<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Chessboard</title>
    <link rel="stylesheet" href="chessboard2.css">
</head>
<body>
    <!--
        Emmett abbreviation to generate the board:
        table.chessboard>thead>tr>th*10^^tbody>tr*8>th{$@-}+td*8+th{$@-}^^tfoot>tr>th*10
    -->
    <table class="chessboard">
        <thead>
            <tr>
                <th></th>
                <th>a</th>
                <th>b</th>
                <th>c</th>
                <th>d</th>
                <th>e</th>
                <th>f</th>
                <th>g</th>
                <th>h</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <th>8</th>
                <td class = "blackRook"></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td class = "blackRook"></td>
                <th >8</th>
            </tr>
            <tr>
                <th>7</th>
                <td class = "blackPawn"></td>
                <td class = "blackPawn"></td>
                <td class = "blackPawn"></td>
                <td class = "blackPawn"></td>
                <td class = "blackPawn"></td>
                <td class = "blackPawn"></td>
                <td class = "blackPawn"></td>
                <td class = "blackPawn"></td>
                <th>7</th>
            </tr>
            <tr>
                <th>6</th>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <th>6</th>
            </tr>
            <tr>
                <th>5</th>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <th>5</th>
            </tr>
            <tr>
                <th>4</th>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <th>4</th>
            </tr>
            <tr>
                <th>3</th>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <th>3</th>
            </tr>
            <tr>
                <th class = "whitePawn">2</th>
                <td class = "whitePawn"></td>
                <td class = "whitePawn"></td>
                <td class = "whitePawn"></td>
                <td class = "whitePawn"></td>
                <td class = "whitePawn"></td>
                <td class = "whitePawn"></td>
                <td class = "whitePawn"></td>
                <td class = "whitePawn"></td>
                <th class = "whitePawn">2</th>
            </tr>
            <tr>
                <th>1</th>
                <td class = "whiteRook"></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td class = "whiteRook"></td>
                <th>1</th>
            </tr>
        </tbody>
        <tfoot>
            <tr>
                <th></th>
                <th>a</th>
                <th>b</th>
                <th>c</th>
                <th>d</th>
                <th>e</th>
                <th>f</th>
                <th>g</th>
                <th>h</th>
                <th></th>
            </tr>
        </tfoot>
    </table>
    <div id = "currentSquare"></div>
    <script >
        function getIndex(element){
            return Array.from(element.parentNode.children).indexOf(element);
        }
        document.querySelectorAll("table.chessboard td").forEach(
            (element) => {
                element.addEventListener('mouseenter', (event) => {
                    const element = event.currentTarget;
                    const notation = 'abcdefgh'.charAt(col) + (8-row);
                    const col = getIndex(element)-1;
                    const row = getIndex(element.parentNode);
                    console.log(`Mouse on squar (${row},${col - 1})`);
                    document.getElementById("currentSquare").innerText = `Current square is (${notation})`;
                });
                element.addEventListener(`mouseenter`, (event) => {
                    document.getElementById(`currentSquare`).innerText = ``;
                })
            }
        );
    </script>
</body>
</html>
